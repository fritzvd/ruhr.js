header({prg: 1, chr: 1, map: 0, mir: 1})

reset()
vblankwait(1)
clrmem()
vblankwait(2)

loadPalettes()

setBgPalette([
  0x3b, 0x15, 0x25, 0x27,
  0x3b, 0x19, 0x29, 0x39,
  0x3b, 0x11, 0x21, 0x31,
  0x3b, 0x17, 0x27, 0x37
])
setSpritePalette([
  0x3b, 0x15, 0x25, 0x27,
  0x3b, 0x19, 0x29, 0x39,
  0x3b, 0x11, 0x21, 0x31,
  0x3b, 0x17, 0x27, 0x37
])

loadSprites()

loadBg()
loadAttribute()


enableBg()

asm('NMI:')

setLowHighBytes()

joyInit()
joyRead({label: 'ReadA'})
joyRead({label: 'ReadB'})
joyRead({label: 'ReadSel'})
joyRead({label: 'ReadStart'})
joyRead({label: 'ReadUp', cb: moveDown})
joyRead({label: 'ReadDown', cb: moveUp})
joyRead({label: 'ReadLeft', cb: moveLeft})
joyRead({label: 'ReadRight', cb: moveRight, done: enableBg})


asm('\trti')
asm('\t.bank 1')
asm('\t.org $E000')

PaletteData()

addData({x: '80', y: '80', tile: '$08', attr: '0'})
addData({x: '88', y: '80', tile: '$09', attr: '0'})
addData({x: '80', y: '88', tile: '$18', attr: '0'})
addData({x: '88', y: '88', tile: '$19', attr: '0'})
sData()

defineBg([
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,305,306,307,308,309,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,305,306,307,308,309,261,261,261,
  261,261,321,322,323,324,325,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,321,322,323,324,325,261,261,261,
  261,261,337,338,339,340,341,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,337,338,339,340,341,261,261,261,
  261,261,353,354,355,356,357,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,353,354,355,356,357,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,512,512,257,257,257,512,512,512,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,499,257,502,257,489,257,499,257,491,257,500,257,257,257,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,257,257,257,257,257,257,257,257,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,264,265,266,267,268,269,270,271,272,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,280,281,282,283,284,285,286,287,288,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,296,297,298,299,300,301,302,303,304,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,312,313,314,315,316,317,318,319,320,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,328,329,330,331,332,333,334,335,336,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,344,345,346,347,348,349,350,351,352,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,360,361,362,363,364,365,366,367,368,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,376,377,378,379,380,381,382,383,384,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,392,393,394,395,396,397,398,399,400,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,305,306,307,308,309,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,305,306,307,308,309,261,261,261,
  261,261,321,322,323,324,325,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,321,322,323,324,325,261,261,261,
  261,261,337,338,339,340,341,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,337,338,339,340,341,261,261,261,
  261,261,353,354,355,356,357,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,353,354,355,356,357,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,
  261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261
])

loadNametable()
attributeTable()

asm('\t.org $FFFA')

vec()

setChrLocation('./tiles.chr')
